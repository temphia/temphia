import{s as E,e as d,i as X,d as $,B as L,P as h,A as w}from"../chunks/scheduler.e2ee220a.js";import{S as P,i as S,t as f,c as A,a as l,g as N,b as y,d as g,m as k,e as T}from"../chunks/index.4aee2103.js";import{A as C}from"../chunks/auto_form.ee101f61.js";import"../chunks/paths.3df37c61.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.0368a52d.js";import{L as I}from"../chunks/loading_spinner.ede256fc.js";import{p as q}from"../chunks/index.008d0d8b.js";function B(o){let e,a;return e=new C({props:{message:o[0],schema:{fields:[{name:"Id",ftype:"TEXT_SLUG",key_name:"id"},{name:"Name",ftype:"TEXT",key_name:"name"},{name:"Type",ftype:"TEXT",key_name:"type",options:["datagroup","folder","room"]},{name:"Sub Type",ftype:"TEXT",key_name:"sub_type"},{name:"Target",ftype:"TEXT",key_name:"target"},{name:"Policy",ftype:"TEXT_POLICY",key_name:"policy"},{name:"Payload",ftype:"LONG_TEXT",key_name:"payload"},{name:"Bprint Id",ftype:"TEXT",key_name:"bprint_id"},{name:"Extra Meta",ftype:"KEY_VALUE_TEXT",key_name:"extra_meta"}],name:"New Resource",required_fields:[]},onSave:o[3],data:o[1]}}),{c(){y(e.$$.fragment)},l(t){g(e.$$.fragment,t)},m(t,r){k(e,t,r),a=!0},p(t,r){const m={};r&1&&(m.message=t[0]),r&2&&(m.data=t[1]),e.$set(m)},i(t){a||(l(e.$$.fragment,t),a=!0)},o(t){f(e.$$.fragment,t),a=!1},d(t){T(e,t)}}}function G(o){let e,a;return e=new I({}),{c(){y(e.$$.fragment)},l(t){g(e.$$.fragment,t)},m(t,r){k(e,t,r),a=!0},p:w,i(t){a||(l(e.$$.fragment,t),a=!0)},o(t){f(e.$$.fragment,t),a=!1},d(t){T(e,t)}}}function O(o){let e,a,t,r;const m=[G,B],s=[];function _(n,i){return n[2]?0:1}return e=_(o),a=s[e]=m[e](o),{c(){a.c(),t=d()},l(n){a.l(n),t=d()},m(n,i){s[e].m(n,i),X(n,t,i),r=!0},p(n,[i]){let c=e;e=_(n),e===c?s[e].p(n,i):(N(),f(s[c],1,1,()=>{s[c]=null}),A(),a=s[e],a?a.p(n,i):(a=s[e]=m[e](n),a.c()),l(a,1),a.m(t.parentNode,t))},i(n){r||(l(a),r=!0)},o(n){f(a),r=!1},d(n){n&&$(t),s[e].d(n)}}}function U(o,e,a){let t;L(o,q,p=>a(5,t=p));let{rid:r=t.rid}=e;const m=h("__app__"),s=m.api_manager.get_admin_resource_api();let _="",n={},i=!0;(async()=>{const p=await s.get(r);p.ok&&(a(1,n=p.data),a(2,i=!1))})();const b=async p=>{const u=await s.update(r,p);if(!u.ok){a(0,_=u.data);return}m.nav.admin_resources()};return o.$$set=p=>{"rid"in p&&a(4,r=p.rid)},[_,n,i,b,r]}class j extends P{constructor(e){super(),S(this,e,U,O,E,{rid:4})}}export{j as component};
