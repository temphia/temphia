import{s as d,B as u,P as g}from"../chunks/scheduler.e2ee220a.js";import{S as c,i as l,b as y,d as T,m as E,a as k,t as b,e as X}from"../chunks/index.4aee2103.js";import{A as w}from"../chunks/auto_form.ee101f61.js";import"../chunks/paths.555c70f8.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.9f9ec163.js";import{p as A}from"../chunks/index.37ddda1f.js";function h(i){let a,t;return a=new w({props:{message:i[2],schema:{fields:[{name:"Name",ftype:"TEXT",key_name:"name"},{name:"Plug",ftype:"TEXT",key_name:"plug_id",disabled:!0},{name:"Agent",ftype:"TEXT",key_name:"agent_id",disabled:!0},{name:"File",ftype:"TEXT",key_name:"ref_file"},{name:"Blueprint",ftype:"TEXT",key_name:"bprint_id"},{name:"Extra Meta",ftype:"KEY_VALUE_TEXT",key_name:"extra_meta"}],name:"New Extension",required_fields:[]},onSave:i[3],data:{agent_id:i[1],plug_id:i[0]}}}),{c(){y(a.$$.fragment)},l(e){T(a.$$.fragment,e)},m(e,n){E(a,e,n),t=!0},p(e,[n]){const s={};n&4&&(s.message=e[2]),n&3&&(s.data={agent_id:e[1],plug_id:e[0]}),a.$set(s)},i(e){t||(k(a.$$.fragment,e),t=!0)},o(e){b(a.$$.fragment,e),t=!1},d(e){X(a,e)}}}function P(i,a,t){let e;u(i,A,m=>t(4,e=m));let{pid:n=e.pid}=a,{aid:s=e.aid}=a;const r=g("__app__"),p=r.api_manager.get_admin_plug_api();let o="";const f=async m=>{const _=await p.new_agent_ext(n,s,m);if(!_.ok){t(2,o=_.data);return}r.nav.admin_agents(n)};return i.$$set=m=>{"pid"in m&&t(0,n=m.pid),"aid"in m&&t(1,s=m.aid)},[n,s,o,f]}class v extends c{constructor(a){super(),l(this,a,P,h,d,{pid:0,aid:1})}}export{v as component};
