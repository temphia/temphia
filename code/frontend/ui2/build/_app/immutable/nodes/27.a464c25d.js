import{s as X,e as g,i as w,d as S,B as h,P as A,A as L}from"../chunks/scheduler.e2ee220a.js";import{S as C,i as M,t as u,c as N,a as f,g as U,b as d,d as b,m as k,e as T}from"../chunks/index.4aee2103.js";import{A as q}from"../chunks/auto_form.ee101f61.js";import"../chunks/paths.555c70f8.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.9f9ec163.js";import{L as v}from"../chunks/loading_spinner.4ceee987.js";import{p as G}from"../chunks/index.37ddda1f.js";function P(i){let e,a;return e=new q({props:{message:i[0],schema:{fields:[{name:"Name",ftype:"TEXT",key_name:"name"},{name:"Slug",ftype:"TEXT_SLUG",key_name:"slug",disabled:!0},{name:"Description",ftype:"LONG_TEXT",key_name:"description"},{name:"Icon",ftype:"TEXT",key_name:"icon"},{name:"Main Column",ftype:"TEXT",key_name:"main_column"},{name:"Main View",ftype:"TEXT",key_name:"main_view"},{name:"Activity Type",ftype:"TEXT",key_name:"activity_type",options:[]},{name:"Sync Type",ftype:"TEXT",key_name:"sync_type",options:[]},{name:"Extra Meta",ftype:"KEY_VALUE_TEXT",key_name:"extra_meta"}],name:"Edit User Table",required_fields:[]},onSave:i[3],data:i[1]}}),{c(){d(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,o){k(e,t,o),a=!0},p(t,o){const m={};o&1&&(m.message=t[0]),o&2&&(m.data=t[1]),e.$set(m)},i(t){a||(f(e.$$.fragment,t),a=!0)},o(t){u(e.$$.fragment,t),a=!1},d(t){T(e,t)}}}function V(i){let e,a;return e=new v({}),{c(){d(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,o){k(e,t,o),a=!0},p:L,i(t){a||(f(e.$$.fragment,t),a=!0)},o(t){u(e.$$.fragment,t),a=!1},d(t){T(e,t)}}}function x(i){let e,a,t,o;const m=[V,P],r=[];function l(n,c){return n[2]?0:1}return e=l(i),a=r[e]=m[e](i),{c(){a.c(),t=g()},l(n){a.l(n),t=g()},m(n,c){r[e].m(n,c),w(n,t,c),o=!0},p(n,[c]){let _=e;e=l(n),e===_?r[e].p(n,c):(U(),u(r[_],1,1,()=>{r[_]=null}),N(),a=r[e],a?a.p(n,c):(a=r[e]=m[e](n),a.c()),f(a,1),a.m(t.parentNode,t))},i(n){o||(f(a),o=!0)},o(n){u(a),o=!1},d(n){n&&S(t),r[e].d(n)}}}function B(i,e,a){let t;h(i,G,s=>a(7,t=s));let{source:o=t.source}=e,{group:m=t.group}=e,{table:r=t.table}=e;const l=A("__app__"),n=l.api_manager.get_admin_data_api();let c="",_={},p=!0;(async()=>{const s=await n.get_table(o,m,r);s.ok&&(a(1,_=s.data),a(2,p=!1))})();const E=async s=>{const y=await n.edit_table(o,m,r,s);if(!y.ok){a(0,c=y.data);return}l.nav.admin_data_groups(o)};return i.$$set=s=>{"source"in s&&a(4,o=s.source),"group"in s&&a(5,m=s.group),"table"in s&&a(6,r=s.table)},[c,_,p,E,o,m,r]}class H extends C{constructor(e){super(),M(this,e,B,x,X,{source:4,group:5,table:6})}}export{H as component};
