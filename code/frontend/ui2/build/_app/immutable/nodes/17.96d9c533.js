import{s as E,e as d,i as h,d as S,B as X,P as w,A}from"../chunks/scheduler.e2ee220a.js";import{S as L,i as G,t as l,c as q,a as _,g as B,b as g,d as b,m as k,e as y}from"../chunks/index.4aee2103.js";import{A as C}from"../chunks/auto_form.ee101f61.js";import"../chunks/paths.2eaeb908.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.c28228c7.js";import{L as N}from"../chunks/loading_spinner.4ef87ddf.js";import{p as P}from"../chunks/index.5458542a.js";function U(s){let e,a;return e=new C({props:{message:s[0],schema:{fields:[{name:"Id",ftype:"TEXT_SLUG",key_name:"id",disabled:!0},{name:"Name",ftype:"TEXT",key_name:"name"},{name:"Group",ftype:"TEXT",key_name:"group",options:["plug","tschema"]},{name:"Sub Group",ftype:"TEXT",key_name:"sub_group"},{name:"Source",ftype:"TEXT",key_name:"source"},{name:"Extra Meta",ftype:"KEY_VALUE_TEXT",key_name:"extra_meta"}],name:"Edit Blueprint",required_fields:[]},onSave:s[3],data:s[1]}}),{c(){g(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,r){k(e,t,r),a=!0},p(t,r){const m={};r&1&&(m.message=t[0]),r&2&&(m.data=t[1]),e.$set(m)},i(t){a||(_(e.$$.fragment,t),a=!0)},o(t){l(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function v(s){let e,a;return e=new N({}),{c(){g(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,r){k(e,t,r),a=!0},p:A,i(t){a||(_(e.$$.fragment,t),a=!0)},o(t){l(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function x(s){let e,a,t,r;const m=[v,U],o=[];function u(n,i){return n[2]?0:1}return e=u(s),a=o[e]=m[e](s),{c(){a.c(),t=d()},l(n){a.l(n),t=d()},m(n,i){o[e].m(n,i),h(n,t,i),r=!0},p(n,[i]){let c=e;e=u(n),e===c?o[e].p(n,i):(B(),l(o[c],1,1,()=>{o[c]=null}),q(),a=o[e],a?a.p(n,i):(a=o[e]=m[e](n),a.c()),_(a,1),a.m(t.parentNode,t))},i(n){r||(_(a),r=!0)},o(n){l(a),r=!1},d(n){n&&S(t),o[e].d(n)}}}function I(s,e,a){let t;X(s,P,p=>a(4,t=p));let m=t.slug;const o=w("__app__"),u=o.api_manager.get_admin_bprint_api();let n="",i={},c=!0;const T=async()=>{const p=await u.get(m);if(!p.ok){a(0,n=p.data);return}a(1,i=p.data),a(2,c=!1)},$=async p=>{console.log("@@data",p);const f=await u.update(m,p);if(!f.ok){a(0,n=f.data);return}o.nav.admin_bprints()};return T(),[n,i,c,$]}class F extends L{constructor(e){super(),G(this,e,I,x,E,{})}}export{F as component};
