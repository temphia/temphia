import{s as O,e as g,i as h,d as L,B as S,P as w,A as B}from"../chunks/scheduler.e2ee220a.js";import{S as E,i as X,t as c,c as V,a as p,g as A,b as y,d as k,m as d,e as T}from"../chunks/index.4aee2103.js";import{A as N}from"../chunks/auto_form.ee101f61.js";import"../chunks/paths.2eaeb908.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.c28228c7.js";import{L as P}from"../chunks/loading_spinner.4ef87ddf.js";import{p as q}from"../chunks/index.5458542a.js";function C(r){let e,a;return e=new N({props:{message:r[0],schema:{fields:[{name:"Key",ftype:"TEXT_SLUG",key_name:"key",disabled:!0},{name:"Value",ftype:"LONG_TEXT",key_name:"value"},{name:"Set Tag 1",ftype:"BOOL",key_name:"set_tag1"},{name:"Tag 1",ftype:"TEXT",key_name:"tag1"},{name:"Set Tag 2",ftype:"BOOL",key_name:"set_tag2"},{name:"Tag 2",ftype:"TEXT",key_name:"tag2"},{name:"Set Tag 3",ftype:"BOOL",key_name:"set_tag3"},{name:"Tag 3",ftype:"TEXT",key_name:"tag3"},{name:"Force Version",ftype:"BOOL",key_name:"force_ver"},{name:"With Version",ftype:"BOOL",key_name:"with_version"},{name:"Version",ftype:"INT",key_name:"version"}],name:"Edit Plug State",required_fields:[]},onSave:r[3],data:r[1]}}),{c(){y(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){d(e,t,o),a=!0},p(t,o){const i={};o&1&&(i.message=t[0]),o&2&&(i.data=t[1]),e.$set(i)},i(t){a||(p(e.$$.fragment,t),a=!0)},o(t){c(e.$$.fragment,t),a=!1},d(t){T(e,t)}}}function G(r){let e,a;return e=new P({}),{c(){y(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){d(e,t,o),a=!0},p:B,i(t){a||(p(e.$$.fragment,t),a=!0)},o(t){c(e.$$.fragment,t),a=!1},d(t){T(e,t)}}}function F(r){let e,a,t,o;const i=[G,C],m=[];function l(s,_){return s[2]?0:1}return e=l(r),a=m[e]=i[e](r),{c(){a.c(),t=g()},l(s){a.l(s),t=g()},m(s,_){m[e].m(s,_),h(s,t,_),o=!0},p(s,[_]){let f=e;e=l(s),e===f?m[e].p(s,_):(A(),c(m[f],1,1,()=>{m[f]=null}),V(),a=m[e],a?a.p(s,_):(a=m[e]=i[e](s),a.c()),p(a,1),a.m(t.parentNode,t))},i(s){o||(p(a),o=!0)},o(s){c(a),o=!1},d(s){s&&L(t),m[e].d(s)}}}function I(r,e,a){let t;S(r,q,n=>a(6,t=n));let{pid:o=t.pid}=e,{skey:i=t.skey}=e;const m=w("__app__"),l=m.api_manager.get_admin_plug_api();let s="",_={},f=!0;const b=async()=>{const n=await l.get_plug_state(o,i);if(!n.ok){a(0,s=n.data);return}a(1,_=n.data),a(2,f=!1)},v=async n=>{console.log("@@data",n);const u=await l.update_plug_state(o,i,{value:n.value||_.value,options:{force_ver:n.force_ver||!1,with_version:n.with_version||!1,version:n.version||0,set_tag1:n.set_tag1||!1,set_tag2:n.set_tag2||!1,set_tag3:n.set_tag3||!1,tag1:n.tag1||"",tag2:n.tag3||"",tag3:n.tag3||""}});if(!u.ok){a(0,s=u.data);return}m.nav.admin_plug_states(o)};return b(),r.$$set=n=>{"pid"in n&&a(4,o=n.pid),"skey"in n&&a(5,i=n.skey)},[s,_,f,v,o,i]}class J extends E{constructor(e){super(),X(this,e,I,F,O,{pid:4,skey:5})}}export{J as component};
