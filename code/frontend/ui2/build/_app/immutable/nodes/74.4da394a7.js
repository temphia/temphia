import{s,P as i}from"../chunks/scheduler.e2ee220a.js";import{S as f,i as y,b as c,d as u,m as d,a as T,t as l,e as E}from"../chunks/index.4aee2103.js";import{A as k}from"../chunks/auto_form.ee101f61.js";import"../chunks/paths.555c70f8.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.9f9ec163.js";function g(m){let a,t;return a=new k({props:{message:m[0],schema:{fields:[{name:"Name",ftype:"TEXT",key_name:"name"},{name:"About",ftype:"LONG_TEXT",key_name:"about"},{name:"Default User Group",ftype:"TEXT",key_name:"default_ugroup"},{name:"CORS Policy",ftype:"TEXT_POLICY",key_name:"cors_policy"},{name:"Adapter Policy",ftype:"TEXT_POLICY",key_name:"adapter_policy"},{name:"Adapter Type",ftype:"SELECT",key_name:"adapter_type",options:m[1]},{name:"Adapter Options",ftype:"KEY_VALUE_TEXT",key_name:"adapter_opts"},{name:"Extra Meta",ftype:"KEY_VALUE_TEXT",key_name:"extra_meta"}],name:"New Domain",required_fields:[]},onSave:m[2],data:{}}}),{c(){c(a.$$.fragment)},l(e){u(a.$$.fragment,e)},m(e,n){d(a,e,n),t=!0},p(e,[n]){const o={};n&1&&(o.message=e[0]),n&2&&(o.schema={fields:[{name:"Name",ftype:"TEXT",key_name:"name"},{name:"About",ftype:"LONG_TEXT",key_name:"about"},{name:"Default User Group",ftype:"TEXT",key_name:"default_ugroup"},{name:"CORS Policy",ftype:"TEXT_POLICY",key_name:"cors_policy"},{name:"Adapter Policy",ftype:"TEXT_POLICY",key_name:"adapter_policy"},{name:"Adapter Type",ftype:"SELECT",key_name:"adapter_type",options:e[1]},{name:"Adapter Options",ftype:"KEY_VALUE_TEXT",key_name:"adapter_opts"},{name:"Extra Meta",ftype:"KEY_VALUE_TEXT",key_name:"extra_meta"}],name:"New Domain",required_fields:[]}),a.$set(o)},i(e){t||(T(a.$$.fragment,e),t=!0)},o(e){l(a.$$.fragment,e),t=!1},d(e){E(a,e)}}}function A(m,a,t){const e=i("__app__"),n=e.api_manager.get_admin_tenant_api();let o="",r=[];return e.api_manager.self_api.list_adapter_providers().then(p=>{t(1,r=p.data||[])}).catch(()=>{}),[o,r,async p=>{const _=await n.new_domain(p);if(!_.ok){t(0,o=_.data);return}e.nav.admin_tenant()}]}class Y extends f{constructor(a){super(),y(this,a,A,g,s,{})}}export{Y as component};
