import{s as w,a as A,c as v,i as y,d as C,B as N,P as h,A as P}from"../chunks/scheduler.e2ee220a.js";import{S as R,i as S,b as g,d as $,m as k,t as m,c as D,a as d,e as b,g as E}from"../chunks/index.4aee2103.js";import"../chunks/paths.9c1b57c4.js";import{F}from"../chunks/floating_add.1495f8dc.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.0368a52d.js";import{A as L}from"../chunks/autotable.0057460b.js";import{L as T}from"../chunks/loading_spinner.ede256fc.js";import{R as q,C as B}from"../chunks/reset_password.47e4c928.js";import{p as G}from"../chunks/index.5ed445fc.js";function I(n){let e,o;return e=new L({props:{action_key:"user_id",show_drop:!0,actions:[{Name:"Profile",Action:n[3],icon:"user-circle"},{Name:"Edit",Action:n[2],icon:"pencil-alt",drop:!0},{Name:"Reset Password",Action:n[6],icon:"lock-open",drop:!0},{Name:"Change Email",Action:n[7],icon:"at-symbol",drop:!0},{Name:"Device Token",Action:n[8],icon:"ticket",drop:!0},{Name:"Disable",Action:W,icon:"user-remove",drop:!0},{Name:"Delete",Action:n[4],icon:"trash",drop:!0}],key_names:[["user_id","User Id"],["full_name","Full Name"],["group_id","Group"],["created_at","Created At"],["active","Active"]],color:["group_id","active"],datas:n[0]}}),{c(){g(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,i){k(e,t,i),o=!0},p(t,i){const s={};i&1&&(s.datas=t[0]),e.$set(s)},i(t){o||(d(e.$$.fragment,t),o=!0)},o(t){m(e.$$.fragment,t),o=!1},d(t){b(e,t)}}}function O(n){let e,o;return e=new T({}),{c(){g(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,i){k(e,t,i),o=!0},p:P,i(t){o||(d(e.$$.fragment,t),o=!0)},o(t){m(e.$$.fragment,t),o=!1},d(t){b(e,t)}}}function U(n){let e,o,t,i,s;const c=[O,I],l=[];function p(a,_){return a[1]?0:1}return e=p(n),o=l[e]=c[e](n),i=new F({props:{onClick:n[5]}}),{c(){o.c(),t=A(),g(i.$$.fragment)},l(a){o.l(a),t=v(a),$(i.$$.fragment,a)},m(a,_){l[e].m(a,_),y(a,t,_),k(i,a,_),s=!0},p(a,[_]){let f=e;e=p(a),e===f?l[e].p(a,_):(E(),m(l[f],1,1,()=>{l[f]=null}),D(),o=l[e],o?o.p(a,_):(o=l[e]=c[e](a),o.c()),d(o,1),o.m(t.parentNode,t))},i(a){s||(d(o),d(i.$$.fragment,a),s=!0)},o(a){m(o),m(i.$$.fragment,a),s=!1},d(a){a&&C(t),l[e].d(a),b(i,a)}}}const W=n=>{};function j(n,e,o){let t;N(n,G,r=>o(9,t=r));let s=t.slug;const c=h("__app__");let l=[],p=!0;const a=async()=>{const r=await c.api_manager.get_ugroup_tkt_api(s);if(!r){console.log("ugroup tkt api not found");return}const u=await r.list();u.ok&&(o(0,l=u.data),o(1,p=!1))};return a(),[l,p,r=>c.nav.admin_ugroup_user_edit(s,r),r=>c.nav.user_profile(r),async r=>{const u=await c.api_manager.get_ugroup_tkt_api(s);if(!u){console.log("ugroup tkt api not found");return}await u.delete(r),a()},()=>c.nav.admin_ugroup_user_new(s,{new_user_user_group:s}),r=>{c.utils.small_modal_open(q,{uid:r,onComplete:u=>{console.log("RESET PASSWORD",u),c.utils.small_modal_close()}})},r=>{c.utils.small_modal_open(B,{uid:r,onComplete:u=>{c.utils.small_modal_close()}})},r=>{}]}class ae extends R{constructor(e){super(),S(this,e,j,U,w,{})}}export{ae as component};
