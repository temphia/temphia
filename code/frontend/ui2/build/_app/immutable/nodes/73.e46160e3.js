import{s as b,e as u,i as A,d as L,B as X,P as C,A as O}from"../chunks/scheduler.e2ee220a.js";import{S as P,i as h,t as c,c as U,a as l,g as Y,b as y,d as T,m as k,e as E}from"../chunks/index.4aee2103.js";import{A as S}from"../chunks/auto_form.ee101f61.js";import"../chunks/paths.2eaeb908.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.c28228c7.js";import{L as $}from"../chunks/loading_spinner.4ef87ddf.js";import{p as N}from"../chunks/index.5458542a.js";function w(r){let e,t;return e=new S({props:{message:r[0],schema:{fields:[{name:"Name",ftype:"TEXT",key_name:"name"},{name:"About",ftype:"LONG_TEXT",key_name:"about"},{name:"Default User Group",ftype:"TEXT",key_name:"default_ugroup"},{name:"CORS Policy",ftype:"TEXT_POLICY",key_name:"cors_policy"},{name:"Adapter Policy",ftype:"TEXT_POLICY",key_name:"adapter_policy"},{name:"Adapter Type",ftype:"SELECT",key_name:"adapter_type",options:r[3]},{name:"Adapter Options",ftype:"KEY_VALUE_TEXT",key_name:"adapter_opts"},{name:"Extra Meta",ftype:"KEY_VALUE_TEXT",key_name:"extra_meta"}],name:"Update Domain",required_fields:[]},onSave:r[4],data:r[1]}}),{c(){y(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,o){k(e,a,o),t=!0},p(a,o){const p={};o&1&&(p.message=a[0]),o&8&&(p.schema={fields:[{name:"Name",ftype:"TEXT",key_name:"name"},{name:"About",ftype:"LONG_TEXT",key_name:"about"},{name:"Default User Group",ftype:"TEXT",key_name:"default_ugroup"},{name:"CORS Policy",ftype:"TEXT_POLICY",key_name:"cors_policy"},{name:"Adapter Policy",ftype:"TEXT_POLICY",key_name:"adapter_policy"},{name:"Adapter Type",ftype:"SELECT",key_name:"adapter_type",options:a[3]},{name:"Adapter Options",ftype:"KEY_VALUE_TEXT",key_name:"adapter_opts"},{name:"Extra Meta",ftype:"KEY_VALUE_TEXT",key_name:"extra_meta"}],name:"Update Domain",required_fields:[]}),o&2&&(p.data=a[1]),e.$set(p)},i(a){t||(l(e.$$.fragment,a),t=!0)},o(a){c(e.$$.fragment,a),t=!1},d(a){E(e,a)}}}function D(r){let e,t;return e=new $({}),{c(){y(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,o){k(e,a,o),t=!0},p:O,i(a){t||(l(e.$$.fragment,a),t=!0)},o(a){c(e.$$.fragment,a),t=!1},d(a){E(e,a)}}}function G(r){let e,t,a,o;const p=[D,w],m=[];function f(n,_){return n[2]?0:1}return e=f(r),t=m[e]=p[e](r),{c(){t.c(),a=u()},l(n){t.l(n),a=u()},m(n,_){m[e].m(n,_),A(n,a,_),o=!0},p(n,[_]){let i=e;e=f(n),e===i?m[e].p(n,_):(Y(),c(m[i],1,1,()=>{m[i]=null}),U(),t=m[e],t?t.p(n,_):(t=m[e]=p[e](n),t.c()),l(t,1),t.m(a.parentNode,a))},i(n){o||(l(t),o=!0)},o(n){c(t),o=!1},d(n){n&&L(a),m[e].d(n)}}}function I(r,e,t){let a;X(r,N,s=>t(6,a=s));let{did:o=a.did}=e;const p=C("__app__"),m=p.api_manager.get_admin_tenant_api();let f="",n={},_=!0,i=[];p.api_manager.self_api.list_adapter_providers().then(s=>{t(3,i=s.data||[])}).catch(()=>{}),(async()=>{const s=await m.get_domain(o);s.ok&&(t(1,n=s.data),t(2,_=!1))})();const g=async s=>{const d=await m.edit_domain(o,s);if(!d.ok){t(0,f=d.data);return}p.nav.admin_tenant()};return r.$$set=s=>{"did"in s&&t(5,o=s.did)},[f,n,_,i,g,o]}class j extends P{constructor(e){super(),h(this,e,I,G,b,{did:5})}}export{j as component};
