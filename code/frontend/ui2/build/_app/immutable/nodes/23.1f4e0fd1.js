import{s as L,e as g,i as S,d as h,B as C,P as O,A as R}from"../chunks/scheduler.e2ee220a.js";import{S as w,i as A,t as u,c as I,a as l,g as N,b as T,d as k,m as b,e as E}from"../chunks/index.4aee2103.js";import{A as P}from"../chunks/auto_form.ee101f61.js";import"../chunks/paths.3df37c61.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.0368a52d.js";import{L as j}from"../chunks/loading_spinner.ede256fc.js";import{p as q}from"../chunks/index.008d0d8b.js";function B(c){let e,n;return e=new P({props:{message:c[0],schema:{fields:[{name:"Name",ftype:"TEXT",key_name:"name"},{name:"Slug",ftype:"TEXT_SLUG",key_name:"slug",disabled:!0},{name:"Column Type",ftype:"TEXT",key_name:"ctype",disabled:!0},{name:"Description",ftype:"LONG_TEXT",key_name:"description"},{name:"Icon",ftype:"TEXT",key_name:"icon"},{name:"Order Id",ftype:"INT",key_name:"order_id"},{name:"Pattern",ftype:"TEXT",key_name:"pattern"},{name:"Strict pattern",ftype:"BOOL",key_name:"strict_pattern"},{name:"Ref Id",ftype:"TEXT",key_name:"ref_id"},{name:"Ref Type",ftype:"TEXT",key_name:"ref_type"},{name:"Ref Target",ftype:"TEXT",key_name:"ref_target"},{name:"Ref Object",ftype:"TEXT",key_name:"ref_object"},{name:"Ref Copy",ftype:"TEXT",key_name:"ref_copy"},{name:"Extra Meta",ftype:"KEY_VALUE_TEXT",key_name:"extra_meta"}],name:"Edit Column",required_fields:[]},onSave:c[3],data:c[1]}}),{c(){T(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){b(e,t,r),n=!0},p(t,r){const s={};r&1&&(s.message=t[0]),r&2&&(s.data=t[1]),e.$set(s)},i(t){n||(l(e.$$.fragment,t),n=!0)},o(t){u(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function G(c){let e,n;return e=new j({}),{c(){T(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){b(e,t,r),n=!0},p:R,i(t){n||(l(e.$$.fragment,t),n=!0)},o(t){u(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function U(c){let e,n,t,r;const s=[G,B],m=[];function _(a,f){return a[2]?0:1}return e=_(c),n=m[e]=s[e](c),{c(){n.c(),t=g()},l(a){n.l(a),t=g()},m(a,f){m[e].m(a,f),S(a,t,f),r=!0},p(a,[f]){let i=e;e=_(a),e===i?m[e].p(a,f):(N(),u(m[i],1,1,()=>{m[i]=null}),I(),n=m[e],n?n.p(a,f):(n=m[e]=s[e](a),n.c()),l(n,1),n.m(t.parentNode,t))},i(a){r||(l(n),r=!0)},o(a){u(n),r=!1},d(a){a&&h(t),m[e].d(a)}}}function x(c,e,n){let t;C(c,q,o=>n(8,t=o));let{source:r=t.source}=e,{group:s=t.group}=e,{table:m=t.table}=e,{column:_=t.column}=e;const a=O("__app__"),f=a.api_manager.get_admin_data_api();let i="",p={},y=!0;(async()=>{const o=await f.get_column(r,s,m,_);o.ok&&(n(1,p=o.data),n(2,y=!1))})();const X=async o=>{const d=await f.edit_column(r,s,m,_,o);if(!d.ok){n(0,i=d.data);return}a.nav.admin_data_columns(r,s,m)};return c.$$set=o=>{"source"in o&&n(4,r=o.source),"group"in o&&n(5,s=o.group),"table"in o&&n(6,m=o.table),"column"in o&&n(7,_=o.column)},[i,p,y,X,r,s,m,_]}class J extends w{constructor(e){super(),A(this,e,x,U,L,{source:4,group:5,table:6,column:7})}}export{J as component};
