import{s as w,e as b,i as y,d as m,B as P,P as j,f as h,g as k,h as q,j as u,M as v,an as F,w as S,A as d}from"../chunks/scheduler.e2ee220a.js";import{S as C,i as I,t as p,c as L,a as g,g as M,b as N,d as x,m as A,e as B}from"../chunks/index.4aee2103.js";import"../chunks/paths.3df37c61.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.0368a52d.js";import{L as D}from"../chunks/loading_spinner.ede256fc.js";import{p as E}from"../chunks/index.008d0d8b.js";function G(l){let t,e,r,i;return{c(){t=h("div"),e=h("img"),this.h()},l(a){t=k(a,"DIV",{class:!0});var s=q(t);e=k(s,"IMG",{class:!0,src:!0,alt:!0,srcset:!0}),s.forEach(m),this.h()},h(){u(e,"class","max-w-full p-2 bg-white rounded border"),v(e.src,r=l[3].getFilePreview(l[1],l[0]))||u(e,"src",r),u(e,"alt",""),F(e,i="")||u(e,"srcset",i),u(t,"class","p-2 h-full w-full overflow-auto flex mx-auto justify-center items-center")},m(a,s){y(a,t,s),S(t,e)},p(a,s){s&3&&!v(e.src,r=a[3].getFilePreview(a[1],a[0]))&&u(e,"src",r)},i:d,o:d,d(a){a&&m(t)}}}function J(l){let t,e;return t=new D({}),{c(){N(t.$$.fragment)},l(r){x(t.$$.fragment,r)},m(r,i){A(t,r,i),e=!0},p:d,i(r){e||(g(t.$$.fragment,r),e=!0)},o(r){p(t.$$.fragment,r),e=!1},d(r){B(t,r)}}}function O(l){let t,e,r,i;const a=[J,G],s=[];function _(o,c){return o[2]?0:1}return t=_(l),e=s[t]=a[t](l),{c(){e.c(),r=b()},l(o){e.l(o),r=b()},m(o,c){s[t].m(o,c),y(o,r,c),i=!0},p(o,[c]){let f=t;t=_(o),t===f?s[t].p(o,c):(M(),p(s[f],1,1,()=>{s[f]=null}),L(),e=s[t],e?e.p(o,c):(e=s[t]=a[t](o),e.c()),g(e,1),e.m(r.parentNode,r))},i(o){i||(g(e),i=!0)},o(o){p(e),i=!1},d(o){o&&m(r),s[t].d(o)}}}function V(l,t,e){let r;P(l,E,n=>e(6,r=n));let{source:i=r.source||"default"}=t,{file:a=r.file}=t,{folder:s=r.folder}=t,_=!0;const f=j("__app__").get_cabinet_service().get_source_api(i);return(async()=>{const n=await f.getFile(s,a);if(!n.ok){console.log("@err",n);return}typeof n.data=="object"?JSON.stringify(n.data,void 0,2):n.data,e(2,_=!1)})(),l.$$set=n=>{"source"in n&&e(4,i=n.source),"file"in n&&e(0,a=n.file),"folder"in n&&e(1,s=n.folder)},[a,s,_,f,i]}class W extends C{constructor(t){super(),I(this,t,V,O,w,{source:4,file:0,folder:1})}}export{W as component};
