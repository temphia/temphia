import{s as E,e as d,i as h,d as A,B as X,P as w,A as L}from"../chunks/scheduler.e2ee220a.js";import{S as I,i as N,t as f,c as P,a as c,g as U,b as g,d as y,m as k,e as T}from"../chunks/index.4aee2103.js";import{A as S}from"../chunks/auto_form.ee101f61.js";import"../chunks/paths.3df37c61.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.0368a52d.js";import{L as x}from"../chunks/loading_spinner.ede256fc.js";import{p as C}from"../chunks/index.008d0d8b.js";function O(o){let e,r;return e=new S({props:{message:o[0],schema:{fields:[{name:"Id",ftype:"INT",key_name:"id",disabled:!0},{name:"Name",ftype:"TEXT",key_name:"name"},{name:"Type",ftype:"TEXT",key_name:"type"},{name:"Provider",ftype:"TEXT",key_name:"provider"},{name:"User Group",ftype:"TEXT",key_name:"user_group",disabled:!0},{name:"Scopes",ftype:"MULTI_TEXT",key_name:"scopes"},{name:"New User If Not Exist",ftype:"BOOL",key_name:"newuser_ifnot_exists"},{name:"Policy",ftype:"TEXT_POLICY",key_name:"policy"},{name:"Extra Meta",ftype:"KEY_VALUE_TEXT",key_name:"extra_meta"}],name:"Edit User Group Auth",required_fields:[]},onSave:o[3],data:o[1]}}),{c(){g(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){k(e,t,n),r=!0},p(t,n){const s={};n&1&&(s.message=t[0]),n&2&&(s.data=t[1]),e.$set(s)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){f(e.$$.fragment,t),r=!1},d(t){T(e,t)}}}function q(o){let e,r;return e=new x({}),{c(){g(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){k(e,t,n),r=!0},p:L,i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){f(e.$$.fragment,t),r=!1},d(t){T(e,t)}}}function B(o){let e,r,t,n;const s=[q,O],m=[];function _(a,i){return a[2]?0:1}return e=_(o),r=m[e]=s[e](o),{c(){r.c(),t=d()},l(a){r.l(a),t=d()},m(a,i){m[e].m(a,i),h(a,t,i),n=!0},p(a,[i]){let p=e;e=_(a),e===p?m[e].p(a,i):(U(),f(m[p],1,1,()=>{m[p]=null}),P(),r=m[e],r?r.p(a,i):(r=m[e]=s[e](a),r.c()),c(r,1),r.m(t.parentNode,t))},i(a){n||(c(r),n=!0)},o(a){f(r),n=!1},d(a){a&&A(t),m[e].d(a)}}}function G(o,e,r){let t;X(o,C,u=>r(6,t=u));let{ugroup:n=t.ugroup}=e,{id:s=t.id}=e;const m=w("__app__"),_=m.api_manager.get_admin_ugroup_api();let a="",i={},p=!0;(async()=>{r(2,p=!0);const u=await _.getAuth(n,s);u.ok&&(r(1,i=u.data),r(2,p=!1))})();const b=async u=>{r(2,p=!0);const l=await _.updateAuth(n,s,u);if(!l.ok){r(0,a=l.data),r(2,p=!1);return}m.nav.admin_ugroup_auths(n)};return o.$$set=u=>{"ugroup"in u&&r(4,n=u.ugroup),"id"in u&&r(5,s=u.id)},[a,i,p,b,n,s]}class H extends I{constructor(e){super(),N(this,e,G,B,E,{ugroup:4,id:5})}}export{H as component};
