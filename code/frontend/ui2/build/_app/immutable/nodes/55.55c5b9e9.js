import{s as gt,a as C,c as E,i as X,d as k,B as xt,P as yt,f as x,g as y,h as D,C as I,j as b,k as bt,w as n,D as K,A as W,Q as vt,J as pt,l as V,m as q,n as F}from"../chunks/scheduler.e2ee220a.js";import{S as kt,i as wt,b as ft,d as ut,m as dt,t as z,c as Tt,a as J,e as ht,g as Ct}from"../chunks/index.4aee2103.js";import{e as rt}from"../chunks/each.e59479a4.js";import{p as Et}from"../chunks/index.37ddda1f.js";import"../chunks/paths.555c70f8.js";import{F as Dt}from"../chunks/floating_add.1495f8dc.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.9f9ec163.js";import{L as Bt}from"../chunks/loading_spinner.4ceee987.js";function ct(o,t,e){const l=o.slice();return l[14]=t[e],l}function Lt(o){let t,e,l,i='<tr><th scope="col" class="text-sm font-medium text-gray-900 px-2 py-2 text-left">Key</th> <th scope="col" class="text-sm font-medium text-gray-900 px-2 py-2 text-left">Version</th> <th scope="col" class="text-sm font-medium text-gray-900 px-2 py-2 text-left">Tag1</th> <th scope="col" class="text-sm font-medium text-gray-900 px-2 py-2 text-left">Tag2</th> <th scope="col" class="text-sm font-medium text-gray-900 px-2 py-2 text-left">Tag3</th> <th scope="col" class="text-sm font-medium text-gray-900 px-2 py-2 text-left">TTL</th> <th scope="col" class="text-sm font-medium text-gray-900 px-2 py-2 text-left">Actions</th></tr>',g,h,c,u,s,d="Previous",_,m,A="Next",T,L,w=rt(o[1]),a=[];for(let p=0;p<w.length;p+=1)a[p]=it(ct(o,w,p));return{c(){t=x("div"),e=x("table"),l=x("thead"),l.innerHTML=i,g=C(),h=x("tbody");for(let p=0;p<a.length;p+=1)a[p].c();c=C(),u=x("div"),s=x("button"),s.textContent=d,_=C(),m=x("button"),m.textContent=A,this.h()},l(p){t=y(p,"DIV",{class:!0});var v=D(t);e=y(v,"TABLE",{class:!0});var r=D(e);l=y(r,"THEAD",{class:!0,"data-svelte-h":!0}),I(l)!=="svelte-l2hper"&&(l.innerHTML=i),g=E(r),h=y(r,"TBODY",{});var N=D(h);for(let O=0;O<a.length;O+=1)a[O].l(N);N.forEach(k),r.forEach(k),c=E(v),u=y(v,"DIV",{class:!0});var B=D(u);s=y(B,"BUTTON",{class:!0,"data-svelte-h":!0}),I(s)!=="svelte-azbayw"&&(s.textContent=d),_=E(B),m=y(B,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),I(m)!=="svelte-1ag2hpy"&&(m.textContent=A),B.forEach(k),v.forEach(k),this.h()},h(){b(l,"class","bg-gray-50 border-b"),b(e,"class","min-w-full shadow rounded-lg"),b(s,"class","flex items-center p-1 text-gray-500 bg-gray-300 rounded-md hover:bg-teal-400 hover:text-white font-bold"),b(m,"class","p-1 text-gray-500 bg-gray-300 rounded-md hover:bg-teal-400 hover:text-white font-bold"),bt(m,"transition","all 0.2s ease 0s"),b(u,"class","flex justify-between p-1"),b(t,"class","overflow-auto p-4")},m(p,v){X(p,t,v),n(t,e),n(e,l),n(e,g),n(e,h);for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(h,null);n(t,c),n(t,u),n(u,s),n(u,_),n(u,m),T||(L=[K(s,"click",o[10]),K(m,"click",o[11])],T=!0)},p(p,v){if(v&227){w=rt(p[1]);let r;for(r=0;r<w.length;r+=1){const N=ct(p,w,r);a[r]?a[r].p(N,v):(a[r]=it(N),a[r].c(),a[r].m(h,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=w.length}},i:W,o:W,d(p){p&&k(t),vt(a,p),T=!1,pt(L)}}}function Nt(o){let t,e;return t=new Bt({}),{c(){ft(t.$$.fragment)},l(l){ut(t.$$.fragment,l)},m(l,i){dt(t,l,i),e=!0},p:W,i(l){e||(J(t.$$.fragment,l),e=!0)},o(l){z(t.$$.fragment,l),e=!1},d(l){ht(t,l)}}}function it(o){let t,e,l=(o[14].key||"")+"",i,g,h,c=(o[14].version||"")+"",u,s,d,_=(o[14].tag1||"")+"",m,A,T,L=(o[14].tag2||"")+"",w,a,p,v=(o[14].tag3||"")+"",r,N,B,O=(o[14].ttl||"")+"",M,Q,U,j,Z="Edit",R,H,$="Delete",Y,G,tt;function _t(){return o[8](o[14])}function mt(){return o[9](o[14])}return{c(){t=x("tr"),e=x("td"),i=V(l),g=C(),h=x("td"),u=V(c),s=C(),d=x("td"),m=V(_),A=C(),T=x("td"),w=V(L),a=C(),p=x("td"),r=V(v),N=C(),B=x("td"),M=V(O),Q=C(),U=x("td"),j=x("button"),j.textContent=Z,R=C(),H=x("button"),H.textContent=$,Y=C(),this.h()},l(P){t=y(P,"TR",{class:!0});var f=D(t);e=y(f,"TD",{class:!0});var et=D(e);i=q(et,l),et.forEach(k),g=E(f),h=y(f,"TD",{class:!0});var st=D(h);u=q(st,c),st.forEach(k),s=E(f),d=y(f,"TD",{class:!0});var lt=D(d);m=q(lt,_),lt.forEach(k),A=E(f),T=y(f,"TD",{class:!0});var at=D(T);w=q(at,L),at.forEach(k),a=E(f),p=y(f,"TD",{class:!0});var ot=D(p);r=q(ot,v),ot.forEach(k),N=E(f),B=y(f,"TD",{class:!0});var nt=D(B);M=q(nt,O),nt.forEach(k),Q=E(f),U=y(f,"TD",{class:!0});var S=D(U);j=y(S,"BUTTON",{class:!0,"data-svelte-h":!0}),I(j)!=="svelte-crjqyl"&&(j.textContent=Z),R=E(S),H=y(S,"BUTTON",{class:!0,"data-svelte-h":!0}),I(H)!=="svelte-d5lohx"&&(H.textContent=$),S.forEach(k),Y=E(f),f.forEach(k),this.h()},h(){b(e,"class","px-2 py-2 whitespace-nowrap text-sm font-medium text-gray-900"),b(h,"class","text-sm text-gray-900 font-light px-2 py-2 whitespace-nowrap"),b(d,"class","text-sm text-gray-900 font-light px-2 py-2 whitespace-nowrap"),b(T,"class","text-sm text-gray-900 font-light px-2 py-2 whitespace-nowrap"),b(p,"class","text-sm text-gray-900 font-light px-2 py-2 whitespace-nowrap"),b(B,"class","text-sm text-gray-900 font-light px-2 py-2 whitespace-nowrap"),b(j,"class","p-1 text-white text-sm font-semibold flex self-center shadow rounded hover:scale-110 bg-blue-400"),b(H,"class","p-1 text-white text-sm font-semibold flex self-center shadow rounded hover:scale-110 bg-red-400"),b(U,"class","text-sm text-gray-900 font-light px-2 py-2 whitespace-nowrap flex gap-2"),b(t,"class","bg-white border-b transition duration-300 ease-in-out hover:bg-gray-100")},m(P,f){X(P,t,f),n(t,e),n(e,i),n(t,g),n(t,h),n(h,u),n(t,s),n(t,d),n(d,m),n(t,A),n(t,T),n(T,w),n(t,a),n(t,p),n(p,r),n(t,N),n(t,B),n(B,M),n(t,Q),n(t,U),n(U,j),n(U,R),n(U,H),n(t,Y),G||(tt=[K(j,"click",_t),K(H,"click",mt)],G=!0)},p(P,f){o=P,f&2&&l!==(l=(o[14].key||"")+"")&&F(i,l),f&2&&c!==(c=(o[14].version||"")+"")&&F(u,c),f&2&&_!==(_=(o[14].tag1||"")+"")&&F(m,_),f&2&&L!==(L=(o[14].tag2||"")+"")&&F(w,L),f&2&&v!==(v=(o[14].tag3||"")+"")&&F(r,v),f&2&&O!==(O=(o[14].ttl||"")+"")&&F(M,O)},d(P){P&&k(t),G=!1,pt(tt)}}}function Ot(o){let t,e,l,i,g;const h=[Nt,Lt],c=[];function u(s,d){return s[2]?0:1}return t=u(o),e=c[t]=h[t](o),i=new Dt({props:{onClick:o[12]}}),{c(){e.c(),l=C(),ft(i.$$.fragment)},l(s){e.l(s),l=E(s),ut(i.$$.fragment,s)},m(s,d){c[t].m(s,d),X(s,l,d),dt(i,s,d),g=!0},p(s,[d]){let _=t;t=u(s),t===_?c[t].p(s,d):(Ct(),z(c[_],1,1,()=>{c[_]=null}),Tt(),e=c[t],e?e.p(s,d):(e=c[t]=h[t](s),e.c()),J(e,1),e.m(l.parentNode,l));const m={};d&1&&(m.onClick=s[12]),i.$set(m)},i(s){g||(J(e),J(i.$$.fragment,s),g=!0)},o(s){z(e),z(i.$$.fragment,s),g=!1},d(s){s&&k(l),c[t].d(s),ht(i,s)}}}let At=0;function Ut(o,t,e){let l;xt(o,Et,a=>e(13,l=a));let{pid:i=l.pid}=t,g=[],h=!0,c="",u=[];const s=yt("__app__"),d=s.api_manager.get_admin_plug_api(),_=async()=>{e(2,h=!0);const a=await d.list_plug_state(i,{key_cursor:c,page:At,no_value:!0});if(!a.ok){console.log("Err",a);return}e(1,g=a.data),e(2,h=!1)};_();const m=a=>s.nav.admin_plug_state_edit(i,a.key),A=async a=>{await d.delete_plug_state(i,a.key),_()},T=()=>{u.length>0?e(3,c=u.pop()):e(3,c=""),_()},L=()=>{g.length>0?(u.push(c),e(3,c=g[g.length-1].key||"")):(e(3,c=""),e(4,u=[])),_()},w=()=>s.nav.admin_plug_state_new(i);return o.$$set=a=>{"pid"in a&&e(0,i=a.pid)},[i,g,h,c,u,s,d,_,m,A,T,L,w]}class St extends kt{constructor(t){super(),wt(this,t,Ut,Ot,gt,{pid:0})}}export{St as component};
