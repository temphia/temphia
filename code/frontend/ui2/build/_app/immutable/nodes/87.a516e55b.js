import{s as y,e as d,i as v,d as C,B as F,P as L,A as P}from"../chunks/scheduler.e2ee220a.js";import{S,i as q,t as f,c as z,a as u,g as A,b as g,d as b,m as $,e as k}from"../chunks/index.4aee2103.js";import{F as B}from"../chunks/FolderView.e91969cd.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.c28228c7.js";import{L as N}from"../chunks/loading_spinner.4ef87ddf.js";import{c as R,s as V}from"../chunks/select.297e1f2d.js";function j(s){let e,n;return e=new B({props:{selected:s[3].item,files:s[1]}}),e.$on("open_item",s[5]),e.$on("select_item",s[6]),{c(){g(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,r){$(e,t,r),n=!0},p(t,r){const a={};r&8&&(a.selected=t[3].item),r&2&&(a.files=t[1]),e.$set(a)},i(t){n||(u(e.$$.fragment,t),n=!0)},o(t){f(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function D(s){let e,n;return e=new N({}),{c(){g(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,r){$(e,t,r),n=!0},p:P,i(t){n||(u(e.$$.fragment,t),n=!0)},o(t){f(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function E(s){let e,n,t,r;const a=[D,j],i=[];function _(o,l){return o[2]?0:1}return e=_(s),n=i[e]=a[e](s),{c(){n.c(),t=d()},l(o){n.l(o),t=d()},m(o,l){i[e].m(o,l),v(o,t,l),r=!0},p(o,[l]){let m=e;e=_(o),e===m?i[e].p(o,l):(A(),f(i[m],1,1,()=>{i[m]=null}),z(),n=i[e],n?n.p(o,l):(n=i[e]=a[e](o),n.c()),u(n,1),n.m(t.parentNode,t))},i(o){r||(u(n),r=!0)},o(o){f(n),r=!1},d(o){o&&C(t),i[e].d(o)}}}function G(s,e,n){let t;F(s,R,c=>n(3,t=c));let{source:r="default"}=e;const a=L("__app__"),i=a.get_cabinet_service();let _=[],o=!0;(async()=>{const p=await i.get_source_api(r).listRoot();p.ok&&(n(1,_=p.data.map(w=>({name:w,is_dir:!0,size:"",last_modified:""}))),n(2,o=!1))})();const m=c=>{a.nav.cab_folder(r,c.detail.name)},h=c=>{V("",c.detail.name)};return s.$$set=c=>{"source"in c&&n(0,r=c.source)},[r,_,o,t,a,m,h]}class Q extends S{constructor(e){super(),q(this,e,G,E,y,{source:0})}}export{Q as component};
