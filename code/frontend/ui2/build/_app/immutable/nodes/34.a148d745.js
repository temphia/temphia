import{s as z,e as D,i as P,d as h,B as F,P as G,r as H,f as w,a as I,l as J,g as k,h as V,C as K,c as L,m as M,j as y,w as b,n as O,A as Q}from"../chunks/scheduler.e2ee220a.js";import{S as R,i as T,t as C,c as U,a as x,g as W,b as S,d as j,m as q,e as A}from"../chunks/index.4aee2103.js";import"../chunks/paths.2eaeb908.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.c28228c7.js";import{L as X}from"../chunks/loading_spinner.4ef87ddf.js";import{p as Y}from"../chunks/index.5458542a.js";import{V as Z}from"../chunks/_value_inner.d4db59dc.js";function $(f){let t,e,a,l="Edit View",c,n,u=(f[0]||"")+"",s,_,r,p;return r=new Z({props:{columns:f[4],data:f[1],onSave:f[10]}}),{c(){t=w("div"),e=w("div"),a=w("div"),a.textContent=l,c=I(),n=w("p"),s=J(u),_=I(),S(r.$$.fragment),this.h()},l(i){t=k(i,"DIV",{class:!0});var d=V(t);e=k(d,"DIV",{class:!0});var m=V(e);a=k(m,"DIV",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-ymwv0s"&&(a.textContent=l),c=L(m),n=k(m,"P",{class:!0});var v=V(n);s=M(v,u),v.forEach(h),_=L(m),j(r.$$.fragment,m),m.forEach(h),d.forEach(h),this.h()},h(){y(a,"class","text-2xl text-indigo-900"),y(n,"class","text-red-500"),y(e,"class","p-5 bg-white w-full "),y(t,"class","h-full w-full bg-indigo-100 p-10 overflow-auto")},m(i,d){P(i,t,d),b(t,e),b(e,a),b(e,c),b(e,n),b(n,s),b(e,_),q(r,e,null),p=!0},p(i,d){(!p||d&1)&&u!==(u=(i[0]||"")+"")&&O(s,u);const m={};d&16&&(m.columns=i[4]),d&2&&(m.data=i[1]),r.$set(m)},i(i){p||(x(r.$$.fragment,i),p=!0)},o(i){C(r.$$.fragment,i),p=!1},d(i){i&&h(t),A(r)}}}function ee(f){let t,e;return t=new X({}),{c(){S(t.$$.fragment)},l(a){j(t.$$.fragment,a)},m(a,l){q(t,a,l),e=!0},p:Q,i(a){e||(x(t.$$.fragment,a),e=!0)},o(a){C(t.$$.fragment,a),e=!1},d(a){A(t,a)}}}function te(f){let t,e,a,l;const c=[ee,$],n=[];function u(s,_){return s[2]||s[3]?0:1}return t=u(f),e=n[t]=c[t](f),{c(){e.c(),a=D()},l(s){e.l(s),a=D()},m(s,_){n[t].m(s,_),P(s,a,_),l=!0},p(s,[_]){let r=t;t=u(s),t===r?n[t].p(s,_):(W(),C(n[r],1,1,()=>{n[r]=null}),U(),e=n[t],e?e.p(s,_):(e=n[t]=c[t](s),e.c()),x(e,1),e.m(a.parentNode,a))},i(s){l||(x(e),l=!0)},o(s){C(e),l=!1},d(s){s&&h(a),n[t].d(s)}}}function ae(f,t,e){let a;F(f,Y,o=>e(11,a=o));let{source:l=a.source}=t,{group:c=a.group}=t,{table:n=a.table}=t,{id:u=a.id}=t;const s=G("__app__"),_=s.api_manager.get_admin_data_api();let r="",p={},i=!0,d=!0,m=[];const v=async()=>{const o=await _.get_view(l,c,n,u);o.ok&&(e(1,p=o.data),e(2,i=!1))},B=async()=>{const g=await s.api_manager.get_admin_data_api().list_column(l,c,n);if(!g.ok){e(0,r=g.data),e(3,d=!1);return}e(4,m=g.data),e(3,d=!1)};v(),B();const E=async o=>{const g=await _.edit_view(l,c,n,u,o);if(!g.ok){e(0,r=g.data);return}s.nav.admin_data_views(l,c,n)};H("__data_context__",{get_modal:()=>({open:s.utils.small_modal_open,close:s.utils.small_modal_close}),table_service:null});const N=o=>E(o);return f.$$set=o=>{"source"in o&&e(6,l=o.source),"group"in o&&e(7,c=o.group),"table"in o&&e(8,n=o.table),"id"in o&&e(9,u=o.id)},[r,p,i,d,m,E,l,c,n,u,N]}class ue extends R{constructor(t){super(),T(this,t,ae,te,z,{source:6,group:7,table:8,id:9})}}export{ue as component};
