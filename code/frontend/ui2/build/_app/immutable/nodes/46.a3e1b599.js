import{s as L,f as m,g,h as $,d as f,j as b,i as h,u as T,x as j,y as q,z,a as N,C as D,c as O,w as P,D as V,A as k,p as H,U as F,B as G,P as J}from"../chunks/scheduler.e2ee220a.js";import{S as B,i as U,g as A,t as _,c as I,a as p,b as y,d as v,m as C,e as E,j as K}from"../chunks/index.4aee2103.js";import{p as M}from"../chunks/index.008d0d8b.js";import"../chunks/paths.3df37c61.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.0368a52d.js";import{L as Q}from"../chunks/loading_spinner.ede256fc.js";import{E as W,B as X}from"../chunks/eframe.0d95e310.js";function Y(i){let t;const n=i[4].default,e=T(n,i,i[3],null);return{c(){e&&e.c()},l(a){e&&e.l(a)},m(a,o){e&&e.m(a,o),t=!0},p(a,o){e&&e.p&&(!t||o&8)&&j(e,n,a,a[3],t?z(n,a[3],o,null):q(a[3]),null)},i(a){t||(p(e,a),t=!0)},o(a){_(e,a),t=!1},d(a){e&&e.d(a)}}}function Z(i){let t,n,e,a;const o=[ee,x],r=[];function c(s,l){return s[2]?0:1}return n=c(i),e=r[n]=o[n](i),{c(){t=m("div"),e.c(),this.h()},l(s){t=g(s,"DIV",{class:!0});var l=$(t);e.l(l),l.forEach(f),this.h()},h(){b(t,"class","card mt-10")},m(s,l){h(s,t,l),r[n].m(t,null),a=!0},p(s,l){let u=n;n=c(s),n===u?r[n].p(s,l):(A(),_(r[u],1,1,()=>{r[u]=null}),I(),e=r[n],e?e.p(s,l):(e=r[n]=o[n](s),e.c()),p(e,1),e.m(t,null))},i(s){a||(p(e),a=!0)},o(s){_(e),a=!1},d(s){s&&f(t),r[n].d()}}}function x(i){let t,n="Do you want to execute app ?",e,a,o,r="Execute",c,s;return{c(){t=m("header"),t.textContent=n,e=N(),a=m("section"),o=m("button"),o.textContent=r,this.h()},l(l){t=g(l,"HEADER",{class:!0,"data-svelte-h":!0}),D(t)!=="svelte-4pz8pr"&&(t.textContent=n),e=O(l),a=g(l,"SECTION",{class:!0});var u=$(a);o=g(u,"BUTTON",{class:!0,"data-svelte-h":!0}),D(o)!=="svelte-swuguq"&&(o.textContent=r),u.forEach(f),this.h()},h(){b(t,"class","card-header"),b(o,"class","btn btn-sm variant-filled w-20"),b(a,"class","p-4")},m(l,u){h(l,t,u),h(l,e,u),h(l,a,u),P(a,o),c||(s=V(o,"click",i[5]),c=!0)},p:k,i:k,o:k,d(l){l&&(f(t),f(e),f(a)),c=!1,s()}}}function ee(i){let t,n;return t=new Q({}),{c(){y(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,a){C(t,e,a),n=!0},p:k,i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){E(t,e)}}}function te(i){let t,n,e,a;const o=[Z,Y],r=[];function c(s,l){return s[0]?0:1}return n=c(i),e=r[n]=o[n](i),{c(){t=m("div"),e.c(),this.h()},l(s){t=g(s,"DIV",{class:!0});var l=$(t);e.l(l),l.forEach(f),this.h()},h(){b(t,"class","grid place-items-center")},m(s,l){h(s,t,l),r[n].m(t,null),a=!0},p(s,[l]){let u=n;n=c(s),n===u?r[n].p(s,l):(A(),_(r[u],1,1,()=>{r[u]=null}),I(),e=r[n],e?e.p(s,l):(e=r[n]=o[n](s),e.c()),p(e,1),e.m(t,null))},i(s){a||(p(e),a=!0)},o(s){_(e),a=!1},d(s){s&&f(t),r[n].d()}}}function ne(i,t,n){let{$$slots:e={},$$scope:a}=t,o=!1,{before:r=!0}=t,{run:c}=t;const s=()=>{n(2,o=!0),c()};return i.$$set=l=>{"before"in l&&n(0,r=l.before),"run"in l&&n(1,c=l.run),"$$scope"in l&&n(3,a=l.$$scope)},[r,c,o,a,e,s]}class ae extends B{constructor(t){super(),U(this,t,ne,te,L,{before:0,run:1})}}function re(i){let t,n;return t=new W({props:{exec_data:{agent_id:i[4],plug_id:i[3],exec_token:i[2],tenant_id:"",startup_payload:null},url:i[1],name:"App"}}),{c(){y(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,a){C(t,e,a),n=!0},p(e,a){const o={};a&4&&(o.exec_data={agent_id:e[4],plug_id:e[3],exec_token:e[2],tenant_id:"",startup_payload:null}),a&2&&(o.url=e[1]),t.$set(o)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){E(t,e)}}}function se(i){let t,n,e;function a(r){i[6](r)}let o={run:i[5],$$slots:{default:[re]},$$scope:{ctx:i}};return i[0]!==void 0&&(o.before=i[0]),t=new ae({props:o}),H.push(()=>K(t,"before",a)),{c(){y(t.$$.fragment)},l(r){v(t.$$.fragment,r)},m(r,c){C(t,r,c),e=!0},p(r,[c]){const s={};c&2054&&(s.$$scope={dirty:c,ctx:r}),!n&&c&1&&(n=!0,s.before=r[0],F(()=>n=!1)),t.$set(s)},i(r){e||(p(t.$$.fragment,r),e=!0)},o(r){_(t.$$.fragment,r),e=!1},d(r){E(t,r)}}}function le(i,t,n){let e;G(i,M,d=>n(7,e=d));let a=e;const o=a.pid,r=a.aid,s=J("__app__").api_manager.get_engine_api();let l=!0,u="",w="";const R=async()=>{const d=await s.launch_agent({plug_id:o,agent_id:r});d.ok&&(n(1,u=X(d.data)),console.log("@URL",u),n(2,w=d.data.token),n(0,l=!1))};function S(d){l=d,n(0,l)}return[l,u,w,o,r,R,S]}class de extends B{constructor(t){super(),U(this,t,le,se,L,{})}}export{de as component};
