import{s as T,f as v,a as A,g as $,C as O,c as N,h as q,d as _,j as k,i as g,w,D as j,A as y,J as z,P as J,$ as M,Q as Y,l as K,m as Z,W as G,n as ee,e as P,B as te}from"../chunks/scheduler.e2ee220a.js";import{S as x,i as F,b as E,d as D,m as L,g as X,t as h,c as Q,a as b,e as H}from"../chunks/index.4aee2103.js";import{p as ae}from"../chunks/index.008d0d8b.js";import{e as V}from"../chunks/each.e59479a4.js";import"../chunks/paths.3df37c61.js";import{F as se}from"../chunks/floating_add.1495f8dc.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.0368a52d.js";import{A as re}from"../chunks/autotable.0057460b.js";import{L as ne}from"../chunks/loading_spinner.ede256fc.js";function oe(l){let e,s='<h4 class="font-medium text-slate-500">Ways to create new data table.</h4>',t,a,r,i='<img class="aspect-square w-16 rounded-lg bg-center object-cover" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTXeOqFwpuGs8POfrytccjgsihqbnERH0hOXg&amp;usqp=CAU" alt=""/> <div><h4 class="font-semibold text-gray-600">From Repo</h4> <p class="text-sm text-slate-400">You can import blueprint from some repo and instance it.</p></div>',d,p,o='<img class="aspect-square w-16 rounded-lg bg-center object-cover" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTXeOqFwpuGs8POfrytccjgsihqbnERH0hOXg&amp;usqp=CAU" alt=""/> <div><h4 class="font-semibold text-gray-600">From Builder</h4> <p class="text-sm text-slate-400">User Builder to create data table (schema ) from scratch.</p></div>',n,m;return{c(){e=v("div"),e.innerHTML=s,t=A(),a=v("div"),r=v("div"),r.innerHTML=i,d=A(),p=v("div"),p.innerHTML=o,this.h()},l(u){e=$(u,"DIV",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-ze94aa"&&(e.innerHTML=s),t=N(u),a=$(u,"DIV",{class:!0});var c=q(a);r=$(c,"DIV",{class:!0,"data-svelte-h":!0}),O(r)!=="svelte-1dw1awb"&&(r.innerHTML=i),d=N(c),p=$(c,"DIV",{class:!0,"data-svelte-h":!0}),O(p)!=="svelte-b8krc4"&&(p.innerHTML=o),c.forEach(_),this.h()},h(){k(e,"class","flex items-center justify-between"),k(r,"class","flex space-x-4 rounded-xl bg-white p-3 shadow-sm hover:border border-blue-500 cursor-pointer"),k(p,"class","flex space-x-4 rounded-xl bg-white p-3 shadow-sm hover:border border-blue-500 cursor-pointer"),k(a,"class","space-y-2 mt-4")},m(u,c){g(u,e,c),g(u,t,c),g(u,a,c),w(a,r),w(a,d),w(a,p),n||(m=[j(r,"click",l[0]),j(p,"click",l[1])],n=!0)},p:y,i:y,o:y,d(u){u&&(_(e),_(t),_(a)),n=!1,z(m)}}}function le(l,e,s){let{app:t}=e;const a=()=>{},r=()=>{};return l.$$set=i=>{"app"in i&&s(2,t=i.app)},[a,r,t]}class ie extends x{constructor(e){super(),F(this,e,le,oe,T,{app:2})}}function B(l,e,s){const t=l.slice();return t[0]=e[s],t}function ce(l){let e,s,t,a,r,i,d,p=V(l[1]||[]),o=[];for(let n=0;n<p.length;n+=1)o[n]=R(B(l,p,n));return a=new re({props:{action_key:"slug",show_drop:!0,actions:[{Name:"Edit",Action:l[5],icon:"pencil-alt"},{Class:"bg-green-400",Name:"Tables",icon:"table",Action:l[6]},{Class:"bg-green-400",Name:"Query",icon:"database",Action:l[10],drop:!0},{Name:"Delete",Class:"bg-red-400",Action:l[7],icon:"trash",drop:!0}],key_names:[["name","Name"],["slug","Slug"],["description","Description"]],color:[],datas:l[2]}}),{c(){e=v("div"),s=v("select");for(let n=0;n<o.length;n+=1)o[n].c();t=A(),E(a.$$.fragment),this.h()},l(n){e=$(n,"DIV",{class:!0});var m=q(e);s=$(m,"SELECT",{class:!0});var u=q(s);for(let c=0;c<o.length;c+=1)o[c].l(u);u.forEach(_),m.forEach(_),t=N(n),D(a.$$.fragment,n),this.h()},h(){k(s,"class","px-2 py-1 rounded-full bg-white hover:text-white hover:bg-slate-500 border border-slate-600"),k(e,"class","flex justify-end pt-2 pr-2")},m(n,m){g(n,e,m),w(e,s);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(s,null);M(s,l[0]),g(n,t,m),L(a,n,m),r=!0,i||(d=j(s,"change",l[9]),i=!0)},p(n,m){if(m&2){p=V(n[1]||[]);let c;for(c=0;c<p.length;c+=1){const C=B(n,p,c);o[c]?o[c].p(C,m):(o[c]=R(C),o[c].c(),o[c].m(s,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=p.length}(!r||m&3)&&M(s,n[0]);const u={};m&1&&(u.actions=[{Name:"Edit",Action:n[5],icon:"pencil-alt"},{Class:"bg-green-400",Name:"Tables",icon:"table",Action:n[6]},{Class:"bg-green-400",Name:"Query",icon:"database",Action:n[10],drop:!0},{Name:"Delete",Class:"bg-red-400",Action:n[7],icon:"trash",drop:!0}]),m&4&&(u.datas=n[2]),a.$set(u)},i(n){r||(b(a.$$.fragment,n),r=!0)},o(n){h(a.$$.fragment,n),r=!1},d(n){n&&(_(e),_(t)),Y(o,n),H(a,n),i=!1,d()}}}function ue(l){let e,s;return e=new ne({}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,a){L(e,t,a),s=!0},p:y,i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){h(e.$$.fragment,t),s=!1},d(t){H(e,t)}}}function R(l){let e,s=l[0]+"",t,a;return{c(){e=v("option"),t=K(s),this.h()},l(r){e=$(r,"OPTION",{});var i=q(e);t=Z(i,s),i.forEach(_),this.h()},h(){e.__value=a=l[0],G(e,e.__value)},m(r,i){g(r,e,i),w(e,t)},p(r,i){i&2&&s!==(s=r[0]+"")&&ee(t,s),i&2&&a!==(a=r[0])&&(e.__value=a,G(e,e.__value))},d(r){r&&_(e)}}}function pe(l){let e,s,t,a,r;const i=[ue,ce],d=[];function p(o,n){return o[3]?0:1}return e=p(l),s=d[e]=i[e](l),a=new se({props:{onClick:l[8]}}),{c(){s.c(),t=A(),E(a.$$.fragment)},l(o){s.l(o),t=N(o),D(a.$$.fragment,o)},m(o,n){d[e].m(o,n),g(o,t,n),L(a,o,n),r=!0},p(o,[n]){let m=e;e=p(o),e===m?d[e].p(o,n):(X(),h(d[m],1,1,()=>{d[m]=null}),Q(),s=d[e],s?s.p(o,n):(s=d[e]=i[e](o),s.c()),b(s,1),s.m(t.parentNode,t))},i(o){r||(b(s),b(a.$$.fragment,o),r=!0)},o(o){h(s),h(a.$$.fragment,o),r=!1},d(o){o&&_(t),d[e].d(o),H(a,o)}}}function me(l,e,s){let{source:t="default"}=e;const a=J("__app__");let r=[],i=[],d=!0;const p=a.api_manager.get_admin_data_api(),o=async f=>{if(!f)return;const W=a.api_manager.self_data.get_data_sources(),I=await p.list_group(f);I.ok&&(s(2,i=I.data),s(3,d=!1),s(1,r=await W))},n=f=>a.nav.admin_data_group(t,f),m=f=>a.nav.admin_data_tables(t,f),u=async f=>{await p.delete_group(t,f),o(t)},c=()=>{a.utils.small_modal_open(ie,{app:a})},C=f=>a.nav.admin_data_groups(f.target.value),U=f=>a.nav.admin_data_query(t,f);return l.$$set=f=>{"source"in f&&s(0,t=f.source)},l.$$.update=()=>{l.$$.dirty&1&&o(t)},[t,r,i,d,a,n,m,u,c,C,U]}class de extends x{constructor(e){super(),F(this,e,me,pe,T,{source:0})}}function S(l){let e,s;return e=new de({props:{source:l[0].source}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,a){L(e,t,a),s=!0},p(t,a){const r={};a&1&&(r.source=t[0].source),e.$set(r)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){h(e.$$.fragment,t),s=!1},d(t){H(e,t)}}}function fe(l){let e=l[0].source,s,t,a=S(l);return{c(){a.c(),s=P()},l(r){a.l(r),s=P()},m(r,i){a.m(r,i),g(r,s,i),t=!0},p(r,[i]){i&1&&T(e,e=r[0].source)?(X(),h(a,1,1,y),Q(),a=S(r),a.c(),b(a,1),a.m(s.parentNode,s)):a.p(r,i)},i(r){t||(b(a),t=!0)},o(r){h(a),t=!1},d(r){r&&_(s),a.d(r)}}}function _e(l,e,s){let t;return te(l,ae,a=>s(0,t=a)),[t]}class Ae extends x{constructor(e){super(),F(this,e,_e,fe,T,{})}}export{Ae as component};
