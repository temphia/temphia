import{s as X,e as g,i as h,d as A,B as w,P as x,A as L}from"../chunks/scheduler.e2ee220a.js";import{S as P,i as S,t as c,c as q,a as u,g as B,b as k,d as y,m as b,e as T}from"../chunks/index.4aee2103.js";import{A as C}from"../chunks/auto_form.ee101f61.js";import"../chunks/paths.3df37c61.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.0368a52d.js";import{L as N}from"../chunks/loading_spinner.ede256fc.js";import{p as U}from"../chunks/index.008d0d8b.js";function F(s){let e,a;return e=new C({props:{message:s[0],schema:{fields:[{name:"Name",ftype:"TEXT",key_name:"name"},{name:"Plug",ftype:"TEXT",key_name:"plug_id",disabled:!0},{name:"Agent",ftype:"TEXT",key_name:"agent_id",disabled:!0},{name:"File",ftype:"TEXT",key_name:"ref_file"},{name:"Blueprint",ftype:"TEXT",key_name:"bprint_id"},{name:"Extra Meta",ftype:"KEY_VALUE_TEXT",key_name:"extra_meta"}],name:"Update Extension",required_fields:[]},onSave:s[3],data:s[1]}}),{c(){k(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){b(e,t,r),a=!0},p(t,r){const m={};r&1&&(m.message=t[0]),r&2&&(m.data=t[1]),e.$set(m)},i(t){a||(u(e.$$.fragment,t),a=!0)},o(t){c(e.$$.fragment,t),a=!1},d(t){T(e,t)}}}function K(s){let e,a;return e=new N({}),{c(){k(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){b(e,t,r),a=!0},p:L,i(t){a||(u(e.$$.fragment,t),a=!0)},o(t){c(e.$$.fragment,t),a=!1},d(t){T(e,t)}}}function M(s){let e,a,t,r;const m=[K,F],o=[];function l(n,_){return n[2]?0:1}return e=l(s),a=o[e]=m[e](s),{c(){a.c(),t=g()},l(n){a.l(n),t=g()},m(n,_){o[e].m(n,_),h(n,t,_),r=!0},p(n,[_]){let f=e;e=l(n),e===f?o[e].p(n,_):(B(),c(o[f],1,1,()=>{o[f]=null}),q(),a=o[e],a?a.p(n,_):(a=o[e]=m[e](n),a.c()),u(a,1),a.m(t.parentNode,t))},i(n){r||(u(a),r=!0)},o(n){c(a),r=!1},d(n){n&&A(t),o[e].d(n)}}}function V(s,e,a){let t;w(s,U,i=>a(7,t=i));let{pid:r=t.pid}=e,{aid:m=t.aid}=e,{eid:o=t.eid}=e;const l=x("__app__"),n=l.api_manager.get_admin_plug_api();let _="",f={},p=!0;(async()=>{const i=await n.get_agent_ext(r,m,o);i.ok&&(a(1,f=i.data),a(2,p=!1))})();const E=async i=>{const d=await n.update_agent_ext(r,m,o,i);if(!d.ok){a(0,_=d.data);return}l.nav.admin_agents(r)};return s.$$set=i=>{"pid"in i&&a(4,r=i.pid),"aid"in i&&a(5,m=i.aid),"eid"in i&&a(6,o=i.eid)},[_,f,p,E,r,m,o]}class O extends P{constructor(e){super(),S(this,e,V,M,X,{pid:4,aid:5,eid:6})}}export{O as component};
