import{s as E,e as d,i as L,d as S,B as h,P as X,A}from"../chunks/scheduler.e2ee220a.js";import{S as C,i as w,t as f,c as G,a as p,g as N,b as g,d as y,m as k,e as b}from"../chunks/index.4aee2103.js";import{A as O}from"../chunks/auto_form.ee101f61.js";import"../chunks/paths.9c1b57c4.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.0368a52d.js";import{L as q}from"../chunks/loading_spinner.ede256fc.js";import{p as v}from"../chunks/index.5ed445fc.js";function B(o){let e,a;return e=new O({props:{message:o[0],schema:{fields:[{name:"Name",ftype:"TEXT",key_name:"name"},{name:"Slug",ftype:"TEXT_SLUG",key_name:"slug",disabled:!0},{name:"Renderer",ftype:"SELECT",key_name:"renderer",disabled:!0,options:["","default","sheet"]},{name:"Description",ftype:"LONG_TEXT",key_name:"description"},{name:"Cabinet Source",ftype:"TEXT",key_name:"cabinet_source"},{name:"Cabinet Folder",ftype:"TEXT",key_name:"cabinet_folder"},{name:"Active",ftype:"BOOL",key_name:"active"},{name:"Extra Meta",ftype:"KEY_VALUE_TEXT",key_name:"extra_meta"}],name:"Edit Group",required_fields:[]},onSave:o[3],data:o[1]}}),{c(){g(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){k(e,t,r),a=!0},p(t,r){const s={};r&1&&(s.message=t[0]),r&2&&(s.data=t[1]),e.$set(s)},i(t){a||(p(e.$$.fragment,t),a=!0)},o(t){f(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function P(o){let e,a;return e=new q({}),{c(){g(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){k(e,t,r),a=!0},p:A,i(t){a||(p(e.$$.fragment,t),a=!0)},o(t){f(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function U(o){let e,a,t,r;const s=[P,B],i=[];function _(n,c){return n[2]?0:1}return e=_(o),a=i[e]=s[e](o),{c(){a.c(),t=d()},l(n){a.l(n),t=d()},m(n,c){i[e].m(n,c),L(n,t,c),r=!0},p(n,[c]){let u=e;e=_(n),e===u?i[e].p(n,c):(N(),f(i[u],1,1,()=>{i[u]=null}),G(),a=i[e],a?a.p(n,c):(a=i[e]=s[e](n),a.c()),p(a,1),a.m(t.parentNode,t))},i(n){r||(p(a),r=!0)},o(n){f(a),r=!1},d(n){n&&S(t),i[e].d(n)}}}function x(o,e,a){let t;h(o,v,m=>a(6,t=m));let{source:r=t.source}=e,{group:s=t.group}=e;const i=X("__app__"),_=i.api_manager.get_admin_data_api();let n="",c={},u=!0;(async()=>{const m=await _.get_group(r,s);m.ok&&(a(1,c=m.data),a(2,u=!1))})();const T=async m=>{const l=await _.edit_group(r,s,m);if(!l.ok){a(0,n=l.data);return}i.nav.admin_data_groups(r)};return o.$$set=m=>{"source"in m&&a(4,r=m.source),"group"in m&&a(5,s=m.group)},[n,c,u,T,r,s]}class z extends C{constructor(e){super(),w(this,e,x,U,E,{source:4,group:5})}}export{z as component};
