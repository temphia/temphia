import{s as p,P as i}from"../chunks/scheduler.e2ee220a.js";import{S as u,i as c,b as f,d as _,m as l,a as g,t as d,e as y}from"../chunks/index.4aee2103.js";import{A as $}from"../chunks/auto_form.ee101f61.js";import"../chunks/paths.9c1b57c4.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.0368a52d.js";function T(o){let t,n;return t=new $({props:{message:o[0],schema:{fields:[{name:"Name",ftype:"TEXT",key_name:"name"},{name:"Slug",ftype:"TEXT",key_name:"slug"},{name:"Type",ftype:"SELECT",key_name:"type",options:["bundle","data_group","data_table","data_sheet","plug","resource"]},{name:"Description",ftype:"LONG_TEXT",key_name:"description"}],name:"New Blueprint",required_fields:["slug","type"]},onSave:o[1],data:{}}}),{c(){f(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,s){l(t,e,s),n=!0},p(e,[s]){const a={};s&1&&(a.message=e[0]),t.$set(a)},i(e){n||(g(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function b(o,t,n){const e=i("__app__"),s=e.api_manager.get_admin_bprint_api();let a="";return[a,async r=>{if(console.log("@@data",r),!r.type){n(0,a="needs valid type");return}if(!r.slug){n(0,a="needs slug");return}const m=await s.create(r);if(!m.ok){n(0,a=m.data);return}e.nav.admin_bprints()}]}class C extends u{constructor(t){super(),c(this,t,b,T,p,{})}}export{C as component};
