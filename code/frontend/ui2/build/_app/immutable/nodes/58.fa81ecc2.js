import{s as R,f as g,g as x,h as I,d as p,j as v,i as k,C as P,A as y,a as w,l as D,c as N,m as J,w as E,D as O,J as V}from"../chunks/scheduler.e2ee220a.js";import{S as q,i as F,t as j,c as z,a as A,g as G,b as K,d as M,m as Q,e as W}from"../chunks/index.4aee2103.js";import"../chunks/paths.555c70f8.js";import"../chunks/loading_spinner.svelte_svelte_type_style_lang.9f9ec163.js";import{L as X}from"../chunks/loading_spinner.4ceee987.js";function Y(a){let e,l="Done";return{c(){e=g("h3"),e.textContent=l,this.h()},l(t){e=x(t,"H3",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-ulkybn"&&(e.textContent=l),this.h()},h(){v(e,"class","mb-2 text-2xl font-bold text-gray-800 text-center")},m(t,s){k(t,e,s)},p:y,i:y,o:y,d(t){t&&p(e)}}}function Z(a){let e,l="Import State",t,s,r,o,d,n,f,_,C,m,h,b,S="Cancel",T,B,c=a[3]&&H(a);return{c(){e=g("h3"),e.textContent=l,t=w(),s=g("label"),r=D(`JSON file
        `),o=g("input"),d=w(),n=g("label"),f=D(`Clean Previous States
        `),_=g("input"),C=w(),m=g("div"),c&&c.c(),h=w(),b=g("button"),b.textContent=S,this.h()},l(i){e=x(i,"H3",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-19hxypx"&&(e.textContent=l),t=N(i),s=x(i,"LABEL",{});var u=I(s);r=J(u,`JSON file
        `),o=x(u,"INPUT",{type:!0}),u.forEach(p),d=N(i),n=x(i,"LABEL",{});var U=I(n);f=J(U,`Clean Previous States
        `),_=x(U,"INPUT",{type:!0}),U.forEach(p),C=N(i),m=x(i,"DIV",{class:!0});var L=I(m);c&&c.l(L),h=N(L),b=x(L,"BUTTON",{class:!0,"data-svelte-h":!0}),P(b)!=="svelte-xixin2"&&(b.textContent=S),L.forEach(p),this.h()},h(){v(e,"class","mb-2 text-center text-2xl font-bold text-gray-800"),v(o,"type","file"),v(_,"type","checkbox"),v(b,"class","py-2 px-4 inline-flex justify-center items-center gap-2 rounded-md border border-transparent font-semibold bg-red-500 text-white hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-all text-sm"),v(m,"class","mt-6 flex justify-end gap-2")},m(i,u){k(i,e,u),k(i,t,u),k(i,s,u),E(s,r),E(s,o),k(i,d,u),k(i,n,u),E(n,f),E(n,_),_.checked=a[2],k(i,C,u),k(i,m,u),c&&c.m(m,null),E(m,h),E(m,b),T||(B=[O(o,"change",a[7]),O(_,"change",a[8]),O(b,"click",a[9])],T=!0)},p(i,u){u&4&&(_.checked=i[2]),i[3]?c?c.p(i,u):(c=H(i),c.c(),c.m(m,h)):c&&(c.d(1),c=null)},i:y,o:y,d(i){i&&(p(e),p(t),p(s),p(d),p(n),p(C),p(m)),c&&c.d(),T=!1,V(B)}}}function $(a){let e,l;return e=new X({props:{classes:""}}),{c(){K(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,s){Q(e,t,s),l=!0},p:y,i(t){l||(A(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function H(a){let e,l="Ok",t,s;return{c(){e=g("button"),e.textContent=l,this.h()},l(r){e=x(r,"BUTTON",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1g39p7p"&&(e.textContent=l),this.h()},h(){v(e,"class","py-2 px-4 inline-flex justify-center items-center gap-2 rounded-md border border-transparent font-semibold bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm")},m(r,o){k(r,e,o),t||(s=O(e,"click",a[5]),t=!0)},p:y,d(r){r&&p(e),t=!1,s()}}}function ee(a){let e,l,t,s;const r=[$,Z,Y],o=[];function d(n,f){return n[1]?0:n[4]==="SELECT"?1:2}return l=d(a),t=o[l]=r[l](a),{c(){e=g("div"),t.c(),this.h()},l(n){e=x(n,"DIV",{class:!0});var f=I(e);t.l(f),f.forEach(p),this.h()},h(){v(e,"class","p-4 text-center overflow-y-auto flex flex-col gap-2")},m(n,f){k(n,e,f),o[l].m(e,null),s=!0},p(n,[f]){let _=l;l=d(n),l===_?o[l].p(n,f):(G(),j(o[_],1,1,()=>{o[_]=null}),z(),t=o[l],t?t.p(n,f):(t=o[l]=r[l](n),t.c()),A(t,1),t.m(e,null))},i(n){s||(A(t),s=!0)},o(n){j(t),s=!1},d(n){n&&p(e),o[l].d()}}}function te(a,e,l){let{id:t}=e,{app:s}=e,r=!1,o=!1,d,n="SELECT";const f=async()=>{l(1,r=!0),!(!d||!(await s.api_manager.get_admin_plug_api().import_plug_state(t,o,d)).ok)&&(l(4,n="RESULT"),l(1,r=!1))},_=h=>{const b=h.target.files[0];if(b){const S=new FileReader;S.onload=T=>{l(3,d=T.target.result),console.log(d)},S.readAsText(b)}};function C(){o=this.checked,l(2,o)}const m=()=>s.utils.small_modal_close();return a.$$set=h=>{"id"in h&&l(6,t=h.id),"app"in h&&l(0,s=h.app)},[s,r,o,d,n,f,t,_,C,m]}class ae extends q{constructor(e){super(),F(this,e,te,ee,R,{id:6,app:0})}}export{ae as component};
