var h=Object.defineProperty;var y=(i,e,r)=>e in i?h(i,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[e]=r;var l=(i,e,r)=>(y(i,typeof e!="symbol"?e+"":e,r),r);import{r as d,s as p,u as m,f as w,a as T,v as R,g as b,d as u,c as E,j as f,w as $,i as S,x as k,y as I,z as A}from"../chunks/scheduler.e2ee220a.js";import{S as v,i as M,a as O,t as z}from"../chunks/index.4aee2103.js";import{w as g}from"../chunks/index.8ae06d0c.js";import{i as F}from"../chunks/stores.992a7bfe.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.64bc79c7.js";const D="auto",L=!1,G=!0,re=Object.freeze(Object.defineProperty({__proto__:null,csr:G,prerender:D,ssr:L},Symbol.toStringTag,{value:"Module"}));class C{constructor(){l(this,"_factories");l(this,"_watchers");l(this,"_type_watchers");l(this,"RegisterFactory",(e,r,n)=>{console.log(`START REGISTER FACTORY => type(${e}) name(${r})`);const o=[e,r].toString();this._factories.set(o,n);const t=this._watchers.get(o);t&&(console.log("Found watchers ",t),t.forEach(a=>a()));const s=this._type_watchers.get(e);s&&s.forEach(a=>a(n)),console.log(`END REGISTER FACTORY => type(${e}) name(${r})`)});l(this,"WatchLoad",async(e,r,n)=>{console.log("before Watching");const o=[e,r].toString();return this._factories.has(o)?(console.log("found factories already"),Promise.resolve()):new Promise((s,a)=>{console.log("making promise");let c=this._watchers.get(o);c||(c=new Array(0)),c.push(()=>{s()}),this._watchers.set(o,c),setTimeout(()=>{a(`TimeOut loading type ${e} & name ${r}`)},n)})});l(this,"OnTypeLoad",(e,r)=>{let n=this._type_watchers.get(e);n||(n=new Array(0)),n.push(r)});l(this,"Get",(e,r)=>{const n=[e,r].toString();return this._factories.get(n.toString())});l(this,"GetAll",e=>{const r=Array(0);return this._factories.forEach((n,[o,t])=>{e===o&&r.push(n)}),r});l(this,"InstanceAll",(e,r)=>{this._factories.forEach((n,o)=>{const[t,s]=o.split(",");e===t&&n(r)})});l(this,"Instance",(e,r,n)=>{const o=[e,r].toString();this._factories.get(o)(n)});this._factories=new Map,this._watchers=new Map,this._type_watchers=new Map}}const W=()=>{if(console.log("init registry"),window.__registry__){console.warn("Registry already loaded, skipping...");return}const i=new C;i.RegisterFactory("loader.factory","std.loader",async e=>{await e.registry.WatchLoad("plug.factory",e.entry,2e5);const r=e.registry.Get("plug.factory",e.entry);if(!r){console.warn("could not load plug factory");return}r({plug:e.plug,agent:e.agent,entry:e.entry,env:e.env,target:e.target,registry:e.registry})}),window.__registry__=i,window.__register_factory__=i.RegisterFactory,window.RegisterFactory=i.RegisterFactory},Y="modalStore";function j(){const i=K();return d(Y,i)}function K(){const{subscribe:i,set:e,update:r}=g([]);return{subscribe:i,set:e,update:r,trigger:n=>r(o=>(o.push(n),o)),close:()=>r(n=>(n.length>0&&n.shift(),n)),clear:()=>e([])}}const N={message:"Missing Toast Message",autohide:!0,timeout:5e3},P="toastStore";function q(){const i=H();return d(P,i)}function U(){const i=Math.random();return Number(i).toString(32)}function H(){const{subscribe:i,set:e,update:r}=g([]),n=t=>r(s=>{if(s.length>0){const a=s.findIndex(_=>_.id===t),c=s[a];c&&(c.callback&&c.callback({id:t,status:"closed"}),c.timeoutId&&clearTimeout(c.timeoutId),s.splice(a,1))}return s});function o(t){if(t.autohide===!0)return setTimeout(()=>{n(t.id)},t.timeout)}return{subscribe:i,close:n,trigger:t=>{const s=U();return r(a=>{t&&t.callback&&t.callback({id:s,status:"queued"}),t.hideDismiss&&(t.autohide=!0);const c={...N,...t,id:s};return c.timeoutId=o(c),a.push(c),a}),s},freeze:t=>r(s=>(s.length>0&&clearTimeout(s[t].timeoutId),s)),unfreeze:t=>r(s=>(s.length>0&&(s[t].timeoutId=o(s[t])),s)),clear:()=>e([])}}function x(){j(),q(),F()}function B(i){let e,r,n;const o=i[1].default,t=m(o,i,i[0],null);return{c(){e=w("link"),r=T(),t&&t.c(),this.h()},l(s){const a=R("svelte-12ldddc",document.head);e=b(a,"LINK",{rel:!0,type:!0,href:!0}),a.forEach(u),r=E(s),t&&t.l(s),this.h()},h(){f(e,"rel","icon"),f(e,"type","image/png"),f(e,"href","/z/assets/static/logo.png")},m(s,a){$(document.head,e),S(s,r,a),t&&t.m(s,a),n=!0},p(s,[a]){t&&t.p&&(!n||a&1)&&k(t,o,s,s[0],n?A(o,s[0],a,null):I(s[0]),null)},i(s){n||(O(t,s),n=!0)},o(s){z(t,s),n=!1},d(s){s&&u(r),u(e),t&&t.d(s)}}}function J(i,e,r){let{$$slots:n={},$$scope:o}=e;return W(),x(),i.$$set=t=>{"$$scope"in t&&r(0,o=t.$$scope)},[o,n]}class se extends v{constructor(e){super(),M(this,e,J,B,p,{})}}export{se as component,re as universal};
