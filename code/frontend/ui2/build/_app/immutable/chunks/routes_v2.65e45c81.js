var h=Object.defineProperty;var n=(r,t,e)=>t in r?h(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var o=(r,t,e)=>(n(r,typeof t!="symbol"?t+"":t,e),e);class l{constructor(t,e){o(this,"baseURL");o(this,"headers");this.baseURL=t,this.headers=e}replace_headers(t){this.headers=t}async get(t){const e=await fetch(`${this.baseURL}${t}`,{method:"GET",headers:this.headers});if(e.ok){const s=await e.text();try{const a=JSON.parse(s);return Promise.resolve({ok:!0,data:a,status:e.status})}catch{return Promise.resolve({ok:!0,data:s,status:e.status})}}return Promise.resolve({ok:!1,data:await e.text(),status:e.status})}async post(t,e){return this.jsonMethod(t,"POST",e)}async patch(t,e){return this.jsonMethod(t,"PATCH",e)}async put(t,e){return this.jsonMethod(t,"PUT",e)}async jsonMethod(t,e,s){const a=await fetch(`${this.baseURL}${t}`,{method:e,headers:this.headers,body:JSON.stringify(s),mode:"cors"});return a.ok?Promise.resolve({ok:!0,data:await a.json(),status:a.status}):Promise.resolve({ok:!1,data:await a.text(),status:a.status})}async rawFetch(t,e,s,a,i){return await fetch(a?`${this.baseURL}${t}`:t,{method:e,headers:s?{Authorization:this.headers.Authorization}:{},body:i})}async postForm(t,e,s){return await fetch(`${this.baseURL}${t}`,{method:"POST",headers:e?{Authorization:this.headers.Authorization}:{},body:s})}async patchForm(t,e,s){return await fetch(`${this.baseURL}${t}`,{method:"PATCH",headers:e?{Authorization:this.headers.Authorization}:{},body:s})}async delete(t,e){const s=await fetch(`${this.baseURL}${t}`,{method:"DELETE",headers:this.headers,body:e&&JSON.stringify(e)});return s.ok?Promise.resolve({ok:!0,data:await s.json(),status:s.status}):Promise.resolve({ok:!1,data:await s.text(),status:s.status})}}const u="_temphia_authed_key_";class y{isLogged(){return!!this.get()}gotoLoginPage(){window.location.pathname="/z/pages/auth"}gotoPortalPage(){window.location.pathname="/z/pages/portal"}setAuthedData(t){const e=JSON.stringify(t);this.set(e)}getAuthedData(){const t=this.get();return t===null?null:JSON.parse(t)}clearAuthedData(){localStorage.removeItem(this.key())}get(){return localStorage.getItem(this.key())}set(t){localStorage.setItem(this.key(),t)}key(){return u}}const d=()=>window.location.origin,g=()=>`${d()}/z/auth`;export{l as H,y as S,g as a,d as b};
